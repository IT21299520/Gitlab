%h3.page-title
  = t("gitlab.admin.admin_area")
%p.light
  = t("gitlab.admin.desc")
%hr
.admin-dashboard
  .row
    .col-sm-4
      .light-well
        %h4
          = t("gitlab.projects.projects")
        .data
          = link_to admin_projects_path do
            %h1= Project.count
          %hr
          = link_to t("gitlab.projects.new_project"), new_project_path, class: "btn btn-new"
    .col-sm-4
      .light-well
        %h4
          = t("gitlab.users.users")
        .data
          = link_to admin_users_path do
            %h1= User.count
          %hr
          = link_to t("gitlab.users.new_user"), new_admin_user_path, class: "btn btn-new"
    .col-sm-4
      .light-well
        %h4
          = t("gitlab.groups.groups")
        .data
          = link_to admin_groups_path do
            %h1= Group.count
          %hr
          = link_to t("gitlab.groups.new_group"), new_admin_group_path, class: "btn btn-new"

  .row.prepend-top-10
    .col-md-4
      %h4
        = t("gitlab.projects.latest_projects")
      %hr
      - @projects.each do |project|
        %p
          = link_to project.name_with_namespace, [:admin, project], class: 'str-truncated'
          %span.light.pull-right
            #{time_ago_with_tooltip(project.created_at)}

    .col-md-4
      %h4
        = t("gitlab.users.latest_users")
      %hr
      - @users.each do |user|
        %p
          = link_to [:admin, user], class: 'str-truncated' do
            = user.name
          %span.light.pull-right
            #{time_ago_with_tooltip(user.created_at)}

    .col-md-4
      %h4
        = t("gitlab.groups.latest_groups")
      %hr
      - @groups.each do |group|
        %p
          = link_to [:admin, group], class: 'str-truncated' do
            = group.name
          %span.light.pull-right
            #{time_ago_with_tooltip(group.created_at)}

  %br
  .row
    .col-md-4
      %h4
        = t("gitlab.admin.stats.stats")
      %hr
      %p
        = t("gitlab.admin.stats.forks")
        %span.light.pull-right
          = ForkedProjectLink.count
      %p
        = t("gitlab.admin.stats.issues")
        %span.light.pull-right
          = Issue.count
      %p
        = t("gitlab.admin.stats.merge_requests")
        %span.light.pull-right
          = MergeRequest.count
      %p
        = t("gitlab.admin.stats.notes")
        %span.light.pull-right
          = Note.count
      %p
        = t("gitlab.admin.stats.snippets")
        %span.light.pull-right
          = Snippet.count
      %p
        = t("gitlab.admin.stats.ssh_keys")
        %span.light.pull-right
          = Key.count
      %p
        = t("gitlab.admin.stats.milestones")
        %span.light.pull-right
          = Milestone.count
    .col-md-4
      %h4
        = t("gitlab.admin.features.features")
      %hr
      %p
        = t("gitlab.admin.features.sign_up")
        %span.light.pull-right
          = boolean_to_icon gitlab_config.signup_enabled
      %p
        = t("gitlab.admin.features.ldap")
        %span.light.pull-right
          = boolean_to_icon Gitlab.config.ldap.enabled
      %p
        = t("gitlab.admin.features.gravatar")
        %span.light.pull-right
          = boolean_to_icon Gitlab.config.gravatar.enabled
      %p
        = t("gitlab.admin.features.omniauth")
        %span.light.pull-right
          = boolean_to_icon Gitlab.config.omniauth.enabled
    .col-md-4
      %h4
        = t("gitlab.admin.components.components")
      %hr
      %p
        = t("gitlab.admin.components.gitlab")
        %span.pull-right
          = Gitlab::VERSION
      %p
        = t("gitlab.admin.components.gitlab_shell")
        %span.pull-right
          = Gitlab::Shell.new.version
      %p
        = t("gitlab.admin.components.gitlab_api")
        %span.pull-right
          = API::API::version
      %p
        = t("gitlab.admin.components.ruby")
        %span.pull-right
          #{RUBY_VERSION}p#{RUBY_PATCHLEVEL}

      %p
        = t("gitlab.admin.components.rails")
        %span.pull-right
          #{Rails::VERSION::STRING}
